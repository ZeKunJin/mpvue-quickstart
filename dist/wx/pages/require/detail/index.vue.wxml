<import src="/modules/mpvue-wxparse/src/wxParse.vue.wxml" />
<import src="/components/Empty/index.vue.wxml" /><template name="b20f3a24">
  <view class="_div data-v-15b08e84">
    <view class="_div data-v-15b08e84 top_box">
      <block wx:for="{{infoList}}" wx:for-index="index" wx:for-item="item">
        <view wx:if="{{detailVal[item.name]}}" key="{{index}}" class="_p data-v-15b08e84 kind_box">
          {{ item.title }}{{ detailVal[item.name] }}
        </view>
      </block>
      <van-divider custom-style="margin:12px 0 0 0" class="_van-divider data-v-15b08e84"></van-divider>
      <view class="_div data-v-15b08e84 address_box"><label class="_span data-v-15b08e84">需求方: {{ detailVal.requirementOrgName || '' }}</label> <label class="_span data-v-15b08e84">浏览量: {{ detailVal.browseTimes || 0 }}</label></view>
      <view class="_div data-v-15b08e84 address_box"><label class="_span data-v-15b08e84">发布方: {{detailVal.orgName}}</label> <label class="_span data-v-15b08e84">{{detailVal.createTime}}发布</label></view>
    </view>
    <view class="_div data-v-15b08e84 bottom_box">
      <view class="_div data-v-15b08e84 main_box">
        <view class="_p data-v-15b08e84 produce_box">需求内容</view>
        <scroll-view class="_scroll-view data-v-15b08e84 scrollView" style=" {{!loadMore ? 'max-height: 256px' : ''}}"><template noData data="{{...$root[$kk+'2'], $root}}" is="9df94e96"></template></scroll-view>
      </view>
      <view wx:if="{{!loadMore}}" class="_div data-v-15b08e84 load-more" bindtap="handleProxy" data-eventid="{{'0'}}" data-comkey="{{$k}}">
        <view class="_div data-v-15b08e84">加载更多</view>
        <view class="_div data-v-15b08e84">
          <van-icon name="arrow-down" class="_van-icon data-v-15b08e84"></van-icon>
        </view>
      </view>
      <view style="width: 100vw; height: 10px; background-color:  #F7F8FA" class="_div data-v-15b08e84"></view>
      <view class="_div data-v-15b08e84 comment-box">
        <view class="_div data-v-15b08e84">
          <view class="_p data-v-15b08e84 title"> 互动留言 </view>
        </view>
        <block wx:if="{{!loading}}">
          <block wx:if="{{comments.length > 0}}">
            <block wx:for="{{comments}}" wx:for-index="index" wx:for-item="comment">
              <view key="{{comment.id}}" class="_div data-v-15b08e84 comment-container">
                <van-image round width="35px" height="35px" style="float: left" src="{{comment.avatar}}" class="_van-image data-v-15b08e84"></van-image>
                <view style="width: calc(100vw - 87px); margin-left: 45px" class="_div data-v-15b08e84">
                  <view class="_div data-v-15b08e84 name">{{ comment.userName }}</view>
                  <view class="_div data-v-15b08e84 content" bindtap="handleProxy" data-eventid="{{'1_'+index}}" data-comkey="{{$k}}">
                    {{ comment.content }}
                    <view style="margin-top: 10px" class="_div data-v-15b08e84">
                      <image wx:key="_index" key="{{_index}}" src="{{img.url}}" class="_img data-v-15b08e84 content-img" wx:for="{{comment.contentFiles}}" wx:for-index="_index" wx:for-item="img"></image>
                    </view>
                  </view>
                  <view class="_div data-v-15b08e84 desc-block">
                    {{ comment.createTime }}
                    <view class="_div data-v-15b08e84 like-container" bindtap="handleProxy" data-eventid="{{'2_'+index}}" data-comkey="{{$k}}"><label class="_span data-v-15b08e84 like-text" wx:if="{{comment.like}}">{{ comment.zanNum + 1 }}</label>
                      <van-icon size="20" name="{{comment.like ? 'good-job' : 'good-job-o'}}" color="{{comment.like ? '#E61F1C' : '#999999'}}" class="_van-icon data-v-15b08e84"></van-icon>
                    </view>
                  </view>
                </view>
              </view>
              <view wx:key="item.id" key="{{item.id}}" class="_div data-v-15b08e84 repay-container" wx:for="{{comment.repayList}}" wx:for-index="__index" wx:for-item="item">
                <van-image round width="35px" height="35px" style="float: left" src="{{item.fromAvatar}}" class="_van-image data-v-15b08e84"></van-image>
                <view style="width: calc(100vw - 122px); margin-left: 45px" class="_div data-v-15b08e84">
                  <view class="_div data-v-15b08e84 name">
                    {{ item.fromUserName }} 回复 {{ item.toUserName }}
                  </view>
                  <view class="_div data-v-15b08e84 content" bindtap="handleProxy" data-eventid="{{'3_'+index+'-'+__index}}" data-comkey="{{$k}}">
                    {{ item.content }}
                    <view style="margin-top: 10px" class="_div data-v-15b08e84">
                      <image wx:key="___index" key="{{___index}}" src="{{img.url}}" class="_img data-v-15b08e84 content-img" wx:for="{{item.contentFiles}}" wx:for-index="___index" wx:for-item="img"></image>
                    </view>
                  </view>
                </view>
              </view>
            </block>
          </block>
          <view wx:else style="margin: 64px 0" bindtap="handleProxy" data-eventid="{{'4'}}" data-comkey="{{$k}}" class="_div data-v-15b08e84"><template text="立即留言" data="{{...$root[$kk+'8'], $root}}" is="5533befc"></template></view>
        </block>
      </view>
      <view class="_div data-v-15b08e84 footer_box">
        <view class="_div data-v-15b08e84 one_btn" bindtap="handleProxy" data-eventid="{{'5'}}" data-comkey="{{$k}}">更多需求</view> <button open-type="share" class="_button data-v-15b08e84 two_btn" data-a="{{detailVal}}" style="list-style: none;background: #fff;">分享</button>
        <view class="_div data-v-15b08e84 one_btn" bindtap="handleProxy" data-eventid="{{'6'}}" data-comkey="{{$k}}">生成海报</view>
        <view class="_div data-v-15b08e84 three_btn">
          <van-button color="#E61F1C" custom-style="width:100%;height:100%;" bindtap="handleProxy" data-eventid="{{'7'}}" data-comkey="{{$k}}" class="_van-button data-v-15b08e84">我要对接</van-button>
        </view>
      </view>
    </view>
    <view style="width: 100vw; height: 50px; background-color: #F7F8FA" class="_div data-v-15b08e84"></view>
    <view class="_div data-v-15b08e84 comment-tools">
      <van-icon name="comment" bindtap="handleProxy" color="#E61F1C" size="24" data-eventid="{{'8'}}" data-comkey="{{$k}}" class="_van-icon data-v-15b08e84"></van-icon>
    </view>
    <van-overlay show="{{showPoster}}" bindtap="handleProxy" data-eventid="{{'10'}}" data-comkey="{{$k}}" class="_van-overlay data-v-15b08e84"><canvas canvas-id="canvas" style="width: 335px; height: 504px; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%)" bindlongtap="handleProxy" data-eventid="{{'9'}}" data-comkey="{{$k}}" class="_canvas data-v-15b08e84"></canvas></van-overlay>
  </view>
</template>